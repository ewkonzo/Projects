<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_05) on Fri Feb 23 10:16:27 CST 2018 -->
<meta http-equiv="Content-Type" content="text/html" charset="UTF-8">
<title>HSMInterface (cloudposJNIInterface)</title>
<meta name="date" content="2018-02-23">
<link rel="stylesheet" type="text/css" href="../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="HSMInterface (cloudposJNIInterface)";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/cloudpos/jniinterface/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HSMInterface.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/cloudpos/jniinterface/FingerPrintInterface.html" title="class in com.cloudpos.jniinterface"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/cloudpos/jniinterface/IDCardInterface.html" title="class in com.cloudpos.jniinterface"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/cloudpos/jniinterface/HSMInterface.html" target="_top">Frames</a></li>
<li><a href="HSMInterface.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">com.cloudpos.jniinterface</div>
<h2 title="Class HSMInterface" class="title">Class HSMInterface</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>com.cloudpos.jniinterface.HSMInterface</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">HSMInterface</span>
extends java.lang.Object</pre>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#ALGORITHM_RSA">ALGORITHM_RSA</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#CERT_TYPE_APP_ROOT">CERT_TYPE_APP_ROOT</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#CERT_TYPE_COMMUNICATE">CERT_TYPE_COMMUNICATE</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#CERT_TYPE_OWNER">CERT_TYPE_OWNER</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#CERT_TYPE_PUBLIC_KEY">CERT_TYPE_PUBLIC_KEY</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#FORMAT_DER">FORMAT_DER</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#FORMAT_PEM">FORMAT_PEM</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#HSMInterface()">HSMInterface</a></strong>()</code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#close()">close</a></strong>()</code>
<div class="block">close the device</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#deleteCertificate(int, java.lang.String)">deleteCertificate</a></strong>(int&nbsp;certType,
                 java.lang.String&nbsp;alias)</code>
<div class="block">Remove the certificate of the given alias.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#deleteKeyPair(java.lang.String)">deleteKeyPair</a></strong>(java.lang.String&nbsp;aliasPrivateKey)</code>
<div class="block">Remove the key pair of the given alias.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#deleteUnionPayPrivateKey()">deleteUnionPayPrivateKey</a></strong>()</code>
<div class="block">Delete UnionPay private key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#doRSADecrypt(java.lang.String, byte[], byte[], int)">doRSADecrypt</a></strong>(java.lang.String&nbsp;aliasPrivateKey,
            byte[]&nbsp;bufCipher,
            byte[]&nbsp;bufResult,
            int&nbsp;resMaxLength)</code>
<div class="block">Do decryption by the given private key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#doRSAEncrypt(java.lang.String, byte[], byte[], int)">doRSAEncrypt</a></strong>(java.lang.String&nbsp;aliasPrivateKey,
            byte[]&nbsp;bufPlain,
            byte[]&nbsp;bufResult,
            int&nbsp;resMaxLength)</code>
<div class="block">Do encryption by the given private key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#enableSensor(int)">enableSensor</a></strong>(int&nbsp;key)</code>
<div class="block">Enable external sensor.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#existMethod(java.lang.String)">existMethod</a></strong>(java.lang.String&nbsp;methodName)</code>
<div class="block">Get x509 crl</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#generateCSR(java.lang.String, java.lang.String, byte[], int)">generateCSR</a></strong>(java.lang.String&nbsp;aliasPrivateKey,
           java.lang.String&nbsp;commName,
           byte[]&nbsp;bufResult,
           int&nbsp;resMaxLength)</code>
<div class="block">Generate the CSR for given private key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#generateKeyPair(java.lang.String, int, int)">generateKeyPair</a></strong>(java.lang.String&nbsp;alias,
               int&nbsp;algorithm,
               int&nbsp;keySize)</code>
<div class="block">Request security module to generate a key pair inside the module.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#generatePINPadCSR(byte[], int)">generatePINPadCSR</a></strong>(byte[]&nbsp;bufResult,
                 int&nbsp;length)</code>
<div class="block">Generate csr for pinpad inject key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#getCertificate(int, java.lang.String, byte[], int, int)">getCertificate</a></strong>(int&nbsp;certType,
              java.lang.String&nbsp;alias,
              byte[]&nbsp;bufCert,
              int&nbsp;bufMaxLength,
              int&nbsp;dataFormat)</code>
<div class="block">Get the certificate data.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#getCrl(java.lang.String, byte[])">getCrl</a></strong>(java.lang.String&nbsp;pLabel,
      byte[]&nbsp;pBuffer)</code>
<div class="block">Get x509 crl</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#getFlashID(byte[])">getFlashID</a></strong>(byte[]&nbsp;flashIDBuffer)</code>
<div class="block">Get flash id.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#getRandom(byte[], int)">getRandom</a></strong>(byte[]&nbsp;bufRandom,
         int&nbsp;length)</code>
<div class="block">Get the real random buffer from safe module.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#injectPublicKeyCertificate(java.lang.String, java.lang.String, byte[], int, int)">injectPublicKeyCertificate</a></strong>(java.lang.String&nbsp;alias,
                          java.lang.String&nbsp;aliasPrivateKey,
                          byte[]&nbsp;bufCert,
                          int&nbsp;bufLength,
                          int&nbsp;dataFormat)</code>
<div class="block">Inject the certificate of the existing key pair.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#injectRootCertificate(int, java.lang.String, byte[], int, int)">injectRootCertificate</a></strong>(int&nbsp;certType,
                     java.lang.String&nbsp;alias,
                     byte[]&nbsp;bufCert,
                     int&nbsp;bufLength,
                     int&nbsp;dataFormat)</code>
<div class="block">Inject the root certificates to security module.<br>
 All the certificate must signed by the terminal's owner certificate.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#isKeyExist(int, int)">isKeyExist</a></strong>(int&nbsp;nKeyID,
          int&nbsp;nKeyType)</code>
<div class="block">Query key whether exist or not.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static boolean</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#isOpened()">isOpened</a></strong>()</code>
<div class="block">if open or not.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#isTampered()">isTampered</a></strong>()</code>
<div class="block">Check the security module is tampered or not.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#keyDecrypt(int, int, int, byte[], byte[])">keyDecrypt</a></strong>(int&nbsp;nKeyID,
          int&nbsp;nKeyType,
          int&nbsp;nMode,
          byte[]&nbsp;byteData,
          byte[]&nbsp;pIV)</code>
<div class="block">Key decrypt.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#keyEncrypt(int, int, int, byte[], byte[])">keyEncrypt</a></strong>(int&nbsp;nKeyID,
          int&nbsp;nKeyType,
          int&nbsp;nMode,
          byte[]&nbsp;byteData,
          byte[]&nbsp;pIV)</code>
<div class="block">Key encrypt.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#open()">open</a></strong>()</code>
<div class="block">Open the device.<br>
 Require one of the SAFE_MODULE_READONLY, SAFE_MODULE or SAFE_MODULE_RESET permission.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#queryCertCount(int)">queryCertCount</a></strong>(int&nbsp;certType)</code>
<div class="block">Query the count of specific type certificate in the hardware secure module.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#queryCertLabels(int, byte[], int)">queryCertLabels</a></strong>(int&nbsp;certType,
               byte[]&nbsp;bufLabels,
               int&nbsp;length)</code>
<div class="block">Query the lable of specific type certificate  in the hardware secure module, every label separated by ':'.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#queryCrlLabels(byte[])">queryCrlLabels</a></strong>(byte[]&nbsp;pLabel)</code>
<div class="block">Query x509 crl labels</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#queryPrivateKeyCount()">queryPrivateKeyCount</a></strong>()</code>
<div class="block">Query the count of private key in the hardware secure module.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#queryPrivateKeyLabels(byte[], int)">queryPrivateKeyLabels</a></strong>(byte[]&nbsp;bufLabels,
                     int&nbsp;length)</code>
<div class="block">Query the lable of private key  in the hardware secure module, every label separated by ':'.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#resetSaveModule(java.lang.String)">resetSaveModule</a></strong>(java.lang.String&nbsp;pwd)</code>
<div class="block">Reset the safe module.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#saveCrl(java.lang.String, byte[])">saveCrl</a></strong>(java.lang.String&nbsp;pLabel,
       byte[]&nbsp;pBuffer)</code>
<div class="block">Save x509 crl</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#saveUnionPayPrivateKey(byte[], int)">saveUnionPayPrivateKey</a></strong>(byte[]&nbsp;byteData,
                      int&nbsp;nDataLength)</code>
<div class="block">Save UnionPay private key.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#updateKey(int, int, byte[])">updateKey</a></strong>(int&nbsp;nKeyID,
         int&nbsp;nKeyType,
         byte[]&nbsp;byteData)</code>
<div class="block">Update Key.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>static int</code></td>
<td class="colLast"><code><strong><a href="../../../com/cloudpos/jniinterface/HSMInterface.html#updateSM4Key(int, byte[], byte[])">updateSM4Key</a></strong>(int&nbsp;nKeyID,
            byte[]&nbsp;pKeyBuffer,
            byte[]&nbsp;pSignature)</code>
<div class="block">Update sm4 key</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="FORMAT_PEM">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FORMAT_PEM</h4>
<pre>public static final&nbsp;int FORMAT_PEM</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.cloudpos.jniinterface.HSMInterface.FORMAT_PEM">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="FORMAT_DER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>FORMAT_DER</h4>
<pre>public static final&nbsp;int FORMAT_DER</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.cloudpos.jniinterface.HSMInterface.FORMAT_DER">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CERT_TYPE_OWNER">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CERT_TYPE_OWNER</h4>
<pre>public static final&nbsp;int CERT_TYPE_OWNER</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.cloudpos.jniinterface.HSMInterface.CERT_TYPE_OWNER">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CERT_TYPE_PUBLIC_KEY">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CERT_TYPE_PUBLIC_KEY</h4>
<pre>public static final&nbsp;int CERT_TYPE_PUBLIC_KEY</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.cloudpos.jniinterface.HSMInterface.CERT_TYPE_PUBLIC_KEY">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CERT_TYPE_APP_ROOT">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CERT_TYPE_APP_ROOT</h4>
<pre>public static final&nbsp;int CERT_TYPE_APP_ROOT</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.cloudpos.jniinterface.HSMInterface.CERT_TYPE_APP_ROOT">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="CERT_TYPE_COMMUNICATE">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>CERT_TYPE_COMMUNICATE</h4>
<pre>public static final&nbsp;int CERT_TYPE_COMMUNICATE</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.cloudpos.jniinterface.HSMInterface.CERT_TYPE_COMMUNICATE">Constant Field Values</a></dd></dl>
</li>
</ul>
<a name="ALGORITHM_RSA">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ALGORITHM_RSA</h4>
<pre>public static final&nbsp;int ALGORITHM_RSA</pre>
<dl><dt><span class="strong">See Also:</span></dt><dd><a href="../../../constant-values.html#com.cloudpos.jniinterface.HSMInterface.ALGORITHM_RSA">Constant Field Values</a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="HSMInterface()">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>HSMInterface</h4>
<pre>public&nbsp;HSMInterface()</pre>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="open()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>open</h4>
<pre>public static&nbsp;int&nbsp;open()</pre>
<div class="block">Open the device.<br>
 Require one of the SAFE_MODULE_READONLY, SAFE_MODULE or SAFE_MODULE_RESET permission.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>value  >= 0, success in starting the process; value < 0, error code</dd></dl>
</li>
</ul>
<a name="close()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>close</h4>
<pre>public static&nbsp;int&nbsp;close()</pre>
<div class="block">close the device</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>value  >= 0, success in starting the process; value < 0, error code</dd></dl>
</li>
</ul>
<a name="isTampered()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isTampered</h4>
<pre>public static&nbsp;int&nbsp;isTampered()</pre>
<div class="block">Check the security module is tampered or not. If the security module is tampered, all data in the security module should not be trusted.<br>
 This method requires SAFE_MODULE_READONLY or SAFE_MODULE permission.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>0   Not tampered.<br>
          1   Tampered.</dd></dl>
</li>
</ul>
<a name="getRandom(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getRandom</h4>
<pre>public static&nbsp;int&nbsp;getRandom(byte[]&nbsp;bufRandom,
            int&nbsp;length)</pre>
<div class="block">Get the real random buffer from safe module.
 <p>
 This method requires SAFE_MODULE_READONLY or SAFE_MODULE permission.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bufRandom</code> - the buffer to store random bytes.</dd><dd><code>length</code> - the length of the buffer.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0   success<br>
          <0  error</dd></dl>
</li>
</ul>
<a name="generateKeyPair(java.lang.String, int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateKeyPair</h4>
<pre>public static&nbsp;int&nbsp;generateKeyPair(java.lang.String&nbsp;alias,
                  int&nbsp;algorithm,
                  int&nbsp;keySize)</pre>
<div class="block">Request security module to generate a key pair inside the module.
 <br>
 This method requires SAFE_MODULE permission.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>alias:</code> - the alias of the private key.</dd><dd><code>algorithm:</code> - the algorithm of the key pair. Currently, only ALGORITHM_RSA is supported.</dd><dd><code>keySize:</code> - the bit size of the key. Currently, only 2048 is supported.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 success<br>
              <0 the error code</dd></dl>
</li>
</ul>
<a name="injectPublicKeyCertificate(java.lang.String, java.lang.String, byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>injectPublicKeyCertificate</h4>
<pre>public static&nbsp;int&nbsp;injectPublicKeyCertificate(java.lang.String&nbsp;alias,
                             java.lang.String&nbsp;aliasPrivateKey,
                             byte[]&nbsp;bufCert,
                             int&nbsp;bufLength,
                             int&nbsp;dataFormat)</pre>
<div class="block">Inject the certificate of the existing key pair.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>alias:</code> - the alias of the certificate.</dd><dd><code>aliasPrivateKey:</code> - the alias of the key pair, usually it's the private key's alias.</dd><dd><code>bufCert:</code> - the data of the certificate.</dd><dd><code>bufLength:</code> - the length of the data buffer.enforceCalliUpdateServicengPermission</dd><dd><code>dataFormat:</code> - the format of the buffer, Currently, only "PEM" is supported.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 success<br>
              <0 error code</dd></dl>
</li>
</ul>
<a name="injectRootCertificate(int, java.lang.String, byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>injectRootCertificate</h4>
<pre>public static&nbsp;int&nbsp;injectRootCertificate(int&nbsp;certType,
                        java.lang.String&nbsp;alias,
                        byte[]&nbsp;bufCert,
                        int&nbsp;bufLength,
                        int&nbsp;dataFormat)</pre>
<div class="block">Inject the root certificates to security module.<br>
 All the certificate must signed by the terminal's owner certificate.
 The keyUsage flag must be set as define:<br>
 <li>CERT_TYPE_OWNER certificate's keyUsage flag must be set as critical, and the KeyEncipherment, CertificateSign and CRLSign must be set, other flags are cleared.
 <li>CERT_TYPE_APP_ROOT certificate's keyUsage flag must be set as critical, and the DigitalSignature, CertificateSign must be set, other flags are cleared.
 <li>CERT_TYPE_COMMUNICATE certificate's keyUsage flag must be set as non-critical and DigitalSignature, KeyEncipherment, DataEncipherment must be set, other flags are cleared.
 <br>
 This method required SAFE_MODULE permission.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>certType:</code> - the certificate type, could be CERT_TYPE_OWNER, CERT_TYPE_APP_ROOT or CERT_TYPE_COMMUNICATE.</dd><dd><code>alias:</code> - the alias of the certificate.getCertificate</dd><dd><code>bufCert:</code> - the data of the certificate.</dd><dd><code>bufLength:</code> - the length of the data buffer.</dd><dd><code>dataFormat:</code> - the format of the buffer, Currently, only FORMAT_PEM is supported.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 success<br>
          <0  the error code</dd></dl>
</li>
</ul>
<a name="getCertificate(int, java.lang.String, byte[], int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCertificate</h4>
<pre>public static&nbsp;int&nbsp;getCertificate(int&nbsp;certType,
                 java.lang.String&nbsp;alias,
                 byte[]&nbsp;bufCert,
                 int&nbsp;bufMaxLength,
                 int&nbsp;dataFormat)</pre>
<div class="block">Get the certificate data.
 <br>
 This method requires SAFE_MODULE_READONLY permission.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>certType:</code> - the certificate type, could be CERT_TYPE_OWNER, CERT_TYPE_PUBLIC_KEY, CERT_TYPE_APP_ROOT or CERT_TYPE_COMMUNICATE.</dd><dd><code>alias:</code> - the alias of the certificate</dd><dd><code>bufCert:</code> - the output buffer to store the certificate PEM data.</dd><dd><code>bufMaxLength:</code> - the max length of the result buffer.</dd><dd><code>dataFormat:</code> - the format of the buffer, Currently, only FORMAT_PEM is supported.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0     the length of the certificate PEM data.<br>
              <0      the error code.</dd></dl>
</li>
</ul>
<a name="deleteCertificate(int, java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteCertificate</h4>
<pre>public static&nbsp;int&nbsp;deleteCertificate(int&nbsp;certType,
                    java.lang.String&nbsp;alias)</pre>
<div class="block">Remove the certificate of the given alias.
 <br>
 The OWNER certificate can't be removed.
 <br>
 This method requires SAVE_MODULE permission.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>certType:</code> - the certificate type, could be CERT_TYPE_PUBLIC_KEY, CERT_TYPE_APP_ROOT or CERT_TYPE_COMMUNICATE.</dd><dd><code>alias:</code> - the alias of the certificate</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 success<br>
          <0  the error code</dd></dl>
</li>
</ul>
<a name="deleteKeyPair(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteKeyPair</h4>
<pre>public static&nbsp;int&nbsp;deleteKeyPair(java.lang.String&nbsp;aliasPrivateKey)</pre>
<div class="block">Remove the key pair of the given alias.
 <br>
 This method requires SAVE_MODULE permission.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aliasPrivateKey:</code> - the alias of the private key.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 success<br>
          <0  the error code</dd></dl>
</li>
</ul>
<a name="generateCSR(java.lang.String, java.lang.String, byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generateCSR</h4>
<pre>public static&nbsp;int&nbsp;generateCSR(java.lang.String&nbsp;aliasPrivateKey,
              java.lang.String&nbsp;commName,
              byte[]&nbsp;bufResult,
              int&nbsp;resMaxLength)</pre>
<div class="block">Generate the CSR for given private key.
 <br>
 This method requires SAVE_MODULE permission.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>alias:</code> - the alias of the private key</dd><dd><code>aliasPrivateKey:</code> - the alias of the private key</dd><dd><code>commonName:</code> - the DN of the commonName</dd><dd><code>bufResult:</code> - the buffer to store the CSR data.</dd><dd><code>resMaxLength:</code> - the max length of the result buffer.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 success, with the valid length of the bufResult.<br>
          <0  the error code</dd></dl>
</li>
</ul>
<a name="doRSAEncrypt(java.lang.String, byte[], byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doRSAEncrypt</h4>
<pre>public static&nbsp;int&nbsp;doRSAEncrypt(java.lang.String&nbsp;aliasPrivateKey,
               byte[]&nbsp;bufPlain,
               byte[]&nbsp;bufResult,
               int&nbsp;resMaxLength)</pre>
<div class="block">Do encryption by the given private key. The result data is in PKCS#1 padding format.
 <br>
 This method requires SAFE_MODULE permission.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aliasPrivateKey:</code> - the alias of the given private key.</dd><dd><code>bufPlain:</code> - the buffer of the plain data.</dd><dd><code>bufResult:</code> - the buffer for the output cipher data.</dd><dd><code>resMaxLength:</code> - the max length of the output buffer.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 encrypt success and return the length of the bufResult.<br>
              <0 the error code.</dd></dl>
</li>
</ul>
<a name="doRSADecrypt(java.lang.String, byte[], byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>doRSADecrypt</h4>
<pre>public static&nbsp;int&nbsp;doRSADecrypt(java.lang.String&nbsp;aliasPrivateKey,
               byte[]&nbsp;bufCipher,
               byte[]&nbsp;bufResult,
               int&nbsp;resMaxLength)</pre>
<div class="block">Do decryption by the given private key. The result data is in PKCS#1 padding format.
 <br>
 This method requires SAFE_MODULE permission.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>aliasPrivateKey:</code> - the alias of the given private key.</dd><dd><code>bufCipher:</code> - the buffer of the cipher data.</dd><dd><code>bufResult:</code> - the buffer for the output cipher data.</dd><dd><code>resMaxLength:</code> - the max length of the output buffer.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 decrypt success and return the length of the bufResult.<br>
              <0 the error code.</dd></dl>
</li>
</ul>
<a name="queryPrivateKeyLabels(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryPrivateKeyLabels</h4>
<pre>public static&nbsp;int&nbsp;queryPrivateKeyLabels(byte[]&nbsp;bufLabels,
                        int&nbsp;length)</pre>
<div class="block">Query the lable of private key  in the hardware secure module, every label separated by ':'.
 <br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bufLabels:</code> - the buffer of the labels.</dd><dd><code>length:</code> - the length of the output buffer.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 data length.
              <0 the error code.</dd></dl>
</li>
</ul>
<a name="queryPrivateKeyCount()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryPrivateKeyCount</h4>
<pre>public static&nbsp;int&nbsp;queryPrivateKeyCount()</pre>
<div class="block">Query the count of private key in the hardware secure module.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>>=0 count。
              <0 the error code.</dd></dl>
</li>
</ul>
<a name="queryCertLabels(int, byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryCertLabels</h4>
<pre>public static&nbsp;int&nbsp;queryCertLabels(int&nbsp;certType,
                  byte[]&nbsp;bufLabels,
                  int&nbsp;length)</pre>
<div class="block">Query the lable of specific type certificate  in the hardware secure module, every label separated by ':'.
 <br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bufLabels:</code> - the buffer of the labels.</dd><dd><code>length:</code> - the length of the output buffer.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 data length.
              <0 the error code.</dd></dl>
</li>
</ul>
<a name="queryCertCount(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>queryCertCount</h4>
<pre>public static&nbsp;int&nbsp;queryCertCount(int&nbsp;certType)</pre>
<div class="block">Query the count of specific type certificate in the hardware secure module.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>>=0 count。
              <0 the error code.</dd></dl>
</li>
</ul>
<a name="resetSaveModule(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>resetSaveModule</h4>
<pre>public static&nbsp;int&nbsp;resetSaveModule(java.lang.String&nbsp;pwd)</pre>
<div class="block">Reset the safe module.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pwd:</code> - the password of reset</dd>
<dt><span class="strong">Returns:</span></dt><dd>=0 success。
              <0 the error code.</dd></dl>
</li>
</ul>
<a name="generatePINPadCSR(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>generatePINPadCSR</h4>
<pre>public static&nbsp;int&nbsp;generatePINPadCSR(byte[]&nbsp;bufResult,
                    int&nbsp;length)</pre>
<div class="block">Generate csr for pinpad inject key.
 <br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>bufResult:</code> - data buffer.</dd><dd><code>length:</code> - length of data buffer.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>0 data length.
              <=0 the error code.</dd></dl>
</li>
</ul>
<a name="enableSensor(int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>enableSensor</h4>
<pre>public static&nbsp;int&nbsp;enableSensor(int&nbsp;key)</pre>
<div class="block">Enable external sensor.
 <br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>key:</code> - indicate to enable which sensor, value must from 1 to 15.</dd>
<dt><span class="strong">Returns:</span></dt><dd>=0 success.
              >0 which pin not collect normal.  
              <0 fail.</dd></dl>
</li>
</ul>
<a name="saveUnionPayPrivateKey(byte[], int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveUnionPayPrivateKey</h4>
<pre>public static&nbsp;int&nbsp;saveUnionPayPrivateKey(byte[]&nbsp;byteData,
                         int&nbsp;nDataLength)</pre>
<div class="block">Save UnionPay private key.
 <br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>byteData:</code> - key buffer.</dd><dd><code>nDataLength:</code> - length of key buffer.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 success.
              <0 fail.</dd></dl>
</li>
</ul>
<a name="deleteUnionPayPrivateKey()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteUnionPayPrivateKey</h4>
<pre>public static&nbsp;int&nbsp;deleteUnionPayPrivateKey()</pre>
<div class="block">Delete UnionPay private key.
 <br></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>>=0 success.
              <0 fail.</dd></dl>
</li>
</ul>
<a name="updateKey(int, int, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateKey</h4>
<pre>public static&nbsp;int&nbsp;updateKey(int&nbsp;nKeyID,
            int&nbsp;nKeyType,
            byte[]&nbsp;byteData)
                     throws java.lang.NoSuchMethodException</pre>
<div class="block">Update Key.
 <br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nKeyID:</code> - key index, from 0 to 9.</dd><dd><code>nKeyType:</code> - indicate the key type:SM4, DES,3DES or AES.</dd><dd><code>byteData:</code> - key data.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 success.
              <0 fail.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd></dl>
</li>
</ul>
<a name="keyEncrypt(int, int, int, byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyEncrypt</h4>
<pre>public static&nbsp;int&nbsp;keyEncrypt(int&nbsp;nKeyID,
             int&nbsp;nKeyType,
             int&nbsp;nMode,
             byte[]&nbsp;byteData,
             byte[]&nbsp;pIV)
                      throws java.lang.NoSuchMethodException</pre>
<div class="block">Key encrypt.
 <br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nKeyID:</code> - key index, from 0 to 9.</dd><dd><code>nKeyType:</code> - indicate the key type:SM4, DES,3DES or AES.</dd><dd><code>nMode:</code> - 0: ECB 1: CBC 2:CFB 3:OFB</dd><dd><code>byteData:</code> - plain text to be encryt.</dd><dd><code>pIV:</code> - initialize vector.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 cipher text length.
              <0 fail.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd></dl>
</li>
</ul>
<a name="keyDecrypt(int, int, int, byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>keyDecrypt</h4>
<pre>public static&nbsp;int&nbsp;keyDecrypt(int&nbsp;nKeyID,
             int&nbsp;nKeyType,
             int&nbsp;nMode,
             byte[]&nbsp;byteData,
             byte[]&nbsp;pIV)
                      throws java.lang.NoSuchMethodException</pre>
<div class="block">Key decrypt.
 <br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nKeyID:</code> - key index, from 0 to 9.</dd><dd><code>nKeyType:</code> - indicate the key type:SM4, DES,3DES or AES.</dd><dd><code>nMode:</code> - 0: ECB 1: CBC 2:CFB 3:OFB</dd><dd><code>byteData:</code> - plain text to be decryt.</dd><dd><code>pIV:</code> - initialize vector.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 decrypt text length.
              <0 fail.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd></dl>
</li>
</ul>
<a name="isKeyExist(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isKeyExist</h4>
<pre>public static&nbsp;boolean&nbsp;isKeyExist(int&nbsp;nKeyID,
                 int&nbsp;nKeyType)
                          throws java.lang.NoSuchMethodException</pre>
<div class="block">Query key whether exist or not.
 <br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nKeyID:</code> - key index, from 0 to 9.</dd><dd><code>nKeyType:</code> - indicate the key type:SM4, DES,3DES or AES.</dd>
<dt><span class="strong">Returns:</span></dt><dd>true exist.
              false not exist.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd></dl>
</li>
</ul>
<a name="getFlashID(byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getFlashID</h4>
<pre>public static&nbsp;int&nbsp;getFlashID(byte[]&nbsp;flashIDBuffer)
                      throws java.lang.NoSuchMethodException</pre>
<div class="block">Get flash id.
 <br></div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>flashIDBuffer:</code> - data buffer.</dd>
<dt><span class="strong">Returns:</span></dt><dd>>=0 success.
              <0 fail.</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd></dl>
</li>
</ul>
<a name="isOpened()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isOpened</h4>
<pre>public static&nbsp;boolean&nbsp;isOpened()</pre>
<div class="block">if open or not.
 <br></div>
<dl><dt><span class="strong">Returns:</span></dt><dd>true opened.
              false not opened.</dd></dl>
</li>
</ul>
<a name="updateSM4Key(int, byte[], byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>updateSM4Key</h4>
<pre>public static&nbsp;int&nbsp;updateSM4Key(int&nbsp;nKeyID,
               byte[]&nbsp;pKeyBuffer,
               byte[]&nbsp;pSignature)
                        throws java.lang.NoSuchMethodException</pre>
<div class="block">Update sm4 key</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>nKeyID:</code> - key index, from 0 to 2.</dd><dd><code>pKeyBuffer:</code> - key data.</dd><dd><code>pSignature:</code> - signature data.
 return value : >= 0 : success
               <  0 : fail</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd></dl>
</li>
</ul>
<a name="saveCrl(java.lang.String, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>saveCrl</h4>
<pre>public static&nbsp;int&nbsp;saveCrl(java.lang.String&nbsp;pLabel,
          byte[]&nbsp;pBuffer)
                   throws java.lang.NoSuchMethodException</pre>
<div class="block">Save x509 crl</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd></dl>
</li>
</ul>
<a name="getCrl(java.lang.String, byte[])">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getCrl</h4>
<pre>public static&nbsp;int&nbsp;getCrl(java.lang.String&nbsp;pLabel,
         byte[]&nbsp;pBuffer)
                  throws java.lang.NoSuchMethodException</pre>
<div class="block">Get x509 crl</div>
<dl><dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd></dl>
</li>
</ul>
<a name="existMethod(java.lang.String)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>existMethod</h4>
<pre>public static&nbsp;int&nbsp;existMethod(java.lang.String&nbsp;methodName)</pre>
<div class="block">Get x509 crl</div>
</li>
</ul>
<a name="queryCrlLabels(byte[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>queryCrlLabels</h4>
<pre>public static&nbsp;int&nbsp;queryCrlLabels(byte[]&nbsp;pLabel)
                          throws java.lang.NoSuchMethodException</pre>
<div class="block">Query x509 crl labels</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>pLabel:</code> - the labels of crl
 return value : > 0 : success, return crl data length
                     <= 0 : fail</dd>
<dt><span class="strong">Throws:</span></dt>
<dd><code>java.lang.NoSuchMethodException</code></dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../com/cloudpos/jniinterface/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/HSMInterface.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../index-files/index-1.html">Index</a></li>
<li><a href="../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../com/cloudpos/jniinterface/FingerPrintInterface.html" title="class in com.cloudpos.jniinterface"><span class="strong">Prev Class</span></a></li>
<li><a href="../../../com/cloudpos/jniinterface/IDCardInterface.html" title="class in com.cloudpos.jniinterface"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="../../../index.html?com/cloudpos/jniinterface/HSMInterface.html" target="_top">Frames</a></li>
<li><a href="HSMInterface.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
